{% extends 'events/base.html' %}
{% load widget_tweaks %}
{% block title %}Liste des Ã©vÃ©nements{% endblock %}
{% block hero_title %}ğŸ“… Liste des Ã©vÃ©nements{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <!-- ğŸ”– En-tÃªte -->
    <div class="text-center mb-5">
      <h1 class="fw-bold text-gradient">ğŸ“… Tous les Ã©vÃ©nements</h1>
      <p class="text-muted">GÃ©rez, modifiez et explorez vos Ã©vÃ©nements Ã  venir.</p>
    </div>

    <!-- ğŸ”˜ Actions -->
    <div class="text-center mb-5">
      <a href="{% url 'add_event' %}" class="btn-neon create me-3">â• Ajouter un Ã©vÃ©nement</a>
      <a href="{% url 'dashboard' %}" class="btn-neon neutral">ğŸ“Š Retour au tableau de bord</a>
    </div>

    <!-- ğŸ—“ï¸ Grille des Ã©vÃ©nements -->
    <div class="row">
      {% for event in events %}
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="event-card-glow h-100">
            <div class="event-header" style="--accent:#00bcd4;">
              {{ event.title }}
            </div>
            <div class="event-body">
              <p class="mb-2"><strong>ğŸ“… Date :</strong> {{ event.date|date:"d/m/Y H:i" }}</p>
              <p class="mb-2"><strong>ğŸ“ Lieu :</strong> {{ event.location }}</p>
              <p class="text-muted small mb-0">
                {{ event.description|truncatewords:20|default:"Aucune description." }}
              </p>
            </div>
            <div class="text-center pb-4">
              <a href="{% url 'event_details' e.get_type_display e.id %}" class="btn-neon view mt-2">
                ğŸ” Voir les dÃ©tails
              </a>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="text-center mt-5">
          <p class="text-muted fs-5">ğŸ˜• Aucun Ã©vÃ©nement pour le moment.</p>
          <a href="{% url 'add_event' %}" class="btn-neon create mt-3">
            â• CrÃ©er le premier Ã©vÃ©nement
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
/* === STYLE HARMONISÃ‰ AVEC LE DASHBOARD === */
.text-gradient {
  background: linear-gradient(90deg, #00bcd4, #007bff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.event-card-glow {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
  overflow: hidden;
  transition: all 0.3s ease;
}
.event-card-glow:hover {
  box-shadow: 0 0 25px var(--accent, #6a5acd);
  transform: translateY(-5px);
}

.event-header {
  background: linear-gradient(90deg, var(--accent), transparent);
  color: #fff;
  font-weight: 700;
  font-size: 1.2rem;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}
.event-body {
  padding: 1.5rem 1.8rem;
  color: #ccc;
}

/* === Boutons nÃ©on === */
.btn-neon {
  padding: 0.6rem 1.4rem;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.2);
  background: transparent;
  color: #fff;
  font-weight: 500;
  transition: all 0.3s ease;
}
.btn-neon:hover {
  background: rgba(255,255,255,0.1);
  box-shadow: 0 0 12px currentColor;
  transform: translateY(-2px);
}
.btn-neon.create { color: #00e676; }
.btn-neon.view { color: #00bcd4; }
.btn-neon.neutral { color: #9e9e9e; }

.text-muted { color: #aaa !important; }
</style>
{% endblock %}
