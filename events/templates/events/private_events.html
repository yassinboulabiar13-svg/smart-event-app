{% extends 'base.html' %}

{% block title %}Ã‰vÃ©nements privÃ©s â€” Smart Event{% endblock %}
{% block hero_title %}Ã‰vÃ©nements privÃ©s{% endblock %}

{% block content %}
<div class="container">
  {% if events %}
    <div class="row">
      {% for event in events %}
        {% if event.owner == user or event.guests.filter(email=user.email, status='accepted').exists %}
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="event-card">
              <h3>{{ event.title }}</h3>
              <p>{{ event.description|truncatewords:20 }}</p>
              <p>ğŸ“… {{ event.date|date:"d/m/Y H:i" }}</p>
              <p>ğŸ“ {{ event.location }}</p>
              {% if event.online_link %}
                <p>ğŸ’» <a href="{{ event.online_link }}" target="_blank">Lien en ligne</a></p>
              {% endif %}
              {% if event.owner == user %}
                <span class="badge bg-success">Vous Ãªtes lâ€™organisateur</span>
                <a href="{% url 'edit_event' event.id %}" class="btn btn-warning mt-2">Modifier</a>
              {% else %}
                <a href="{% url 'join_event' event.id %}" class="btn btn-primary mt-2">Participer</a>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% else %}
    <p style="color:#aaa;">Aucun Ã©vÃ©nement privÃ© accessible pour le moment. ğŸ˜”</p>
  {% endif %}
</div>
{% endblock %}
