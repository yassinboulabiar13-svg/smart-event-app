{% extends 'events/base.html' %}
{% load widget_tweaks %}
{% url 'rsvp' guest.token %}

{% block title %}Cr√©er un √©v√©nement{% endblock %}
{% block hero_title %}Cr√©er un nouvel √âv√©nement{% endblock %}

{% block content %}
<section class="dashboard-section py-5">
  <div class="container">
    <div class="event-card-glow p-4 mb-5">
      <div class="event-header" style="--accent:#00bcd4;">‚ûï Cr√©er un nouvel √©v√©nement</div>

      <div class="event-body">
        <form method="POST" class="needs-validation">
          {% csrf_token %}

          <!-- Titre -->
          <div class="mb-3">
            <label class="form-label text-light fw-bold">Titre de l‚Äô√©v√©nement</label>
            {{ form.title|add_class:"form-control-dark" }}
          </div>

          <!-- Description -->
          <div class="mb-3">
            <label class="form-label text-light fw-bold">Description</label>
            {{ form.description|add_class:"form-control-dark" }}
          </div>

          <!-- Date -->
          <div class="mb-3">
            <label class="form-label text-light fw-bold">Date et heure</label>
            {{ form.date|add_class:"form-control-dark" }}
          </div>

          <!-- Lieu -->
          <div class="mb-3">
            <label class="form-label text-light fw-bold">Lieu</label>
            {{ form.location|add_class:"form-control-dark" }}
          </div>

          <!-- Invit√©s -->
          <div class="mb-3">
            <label class="form-label text-light fw-bold">Invit√©s (emails s√©par√©s par des virgules)</label>
            {{ form.guests_emails|add_class:"form-control-dark" }}
            <small class="text-muted">Exemple : jean@gmail.com, marie@yahoo.fr</small>
          </div>

          <!-- Boutons -->
          <div class="text-center mt-4">
            <button type="submit" class="btn-neon edit px-4 py-2">
              üíæ Enregistrer l‚Äô√©v√©nement
            </button>
            <a href="{% url 'dashboard' %}" class="btn-neon neutral px-4 py-2 ms-2">
              ‚¨Ö Annuler
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<style>
/* === Style identique au Dashboard === */
.dashboard-section {
  background: rgba(0,0,0,0.85);
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 0 25px rgba(138,95,255,0.15);
}

.event-card-glow {
  background: rgba(255,255,255,0.05);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 0 25px rgba(0,0,0,0.4);
  overflow: hidden;
  transition: all 0.3s ease;
}
.event-card-glow:hover {
  box-shadow: 0 0 30px var(--accent, #6a5acd);
}

.event-header {
  font-size: 1.4rem;
  font-weight: 700;
  padding: 1rem 1.5rem;
  background: linear-gradient(90deg, var(--accent), transparent);
  color: #fff;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}
.event-body {
  padding: 1.5rem;
}

/* Champs de formulaire */
.form-control-dark {
  width: 100%;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.1);
  color: #fff;
  border-radius: 8px;
  padding: 0.6rem 0.8rem;
  transition: all 0.3s ease;
}
.form-control-dark:focus {
  background: rgba(255,255,255,0.15);
  border-color: #6a5acd;
  box-shadow: 0 0 10px #6a5acd;
  outline: none;
}

/* Texte et labels */
label.form-label {
  font-size: 1rem;
}
small.text-muted {
  color: #999 !important;
}

/* Boutons */
.btn-neon {
  padding: 0.6rem 1.2rem;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.2);
  background: transparent;
  color: #fff;
  font-weight: 600;
  transition: all 0.3s ease;
}
.btn-neon:hover {
  background: rgba(255,255,255,0.1);
  box-shadow: 0 0 12px currentColor;
}
.btn-neon.edit { color: #03a9f4; }
.btn-neon.neutral { color: #9e9e9e; }
</style>
{% endblock %}
